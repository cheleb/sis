<?xml version="1.0" encoding="UTF-8"?>
<!--
  Customization of Apache SIS build from NetBeans IDE.
-->
<project name="Apache_SIS" default="default" basedir=".">
  <description>Builds, tests, and runs the project Apache SIS.</description>
  <import file="nbproject/build-impl.xml"/>

  <!--
    Called after compilation. Copies the "*.utf" resources files created by Maven.
    Note that the Apache SIS project must have been build by Maven at least once it
    can be built by the NetBeans IDE.
  -->
  <target name="-post-compile">
    <copy todir="${build.classes.dir}/org/apache/sis/util/resources">
      <fileset dir="${project.root}/core/sis-utility/target/classes/org/apache/sis/util/resources">
        <include name="*.utf"/>
      </fileset>
    </copy>

    <!-- Following are classical properties resources files. -->
    <copy todir="${build.classes.dir}">
      <fileset dir="${project.root}/core/sis-utility/src/main/resources">
        <include name="META-INF/services/*"/>
        <include name="**/*.properties"/>
      </fileset>
      <fileset dir="${project.root}/core/sis-metadata/src/main/resources">
        <include name="META-INF/services/*"/>
      </fileset>
      <fileset dir="${project.root}/application/sis-console/src/main/resources">
        <include name="**/*.properties"/>
      </fileset>
    </copy>
  </target>

  <!--
    Called after compilation of test classes in order to copy test files.
  -->
  <target name="-post-compile-test">
    <copy todir="${build.test.classes.dir}">
      <fileset dir="${project.root}/core/sis-metadata/src/test/resources">
        <include name="**/*.xml"/>
      </fileset>
    </copy>
  </target>
</project>
